(this.webpackJsonptheory=this.webpackJsonptheory||[]).push([[0],{56:function(t,e){},93:function(t,e,s){"use strict";s.r(e);var n=s(3),a=s(28),o=s.n(a),c=s(36),i=s(17),r=s(32),l=s(8),h=s(9),u=s(11),p=s(10),d=s(7),j=s.n(d),m=s(39);m.a.initializeApp({apiKey:"AIzaSyD8kJha9TDbWgLryDiRaXkWKIwnDctft9I",authDomain:"theory-315519.firebaseapp.com",databaseURL:"https://webproject-b004d-default-rtdb.firebaseio.com/",projectId:"theory-315519",storageBucket:"theory-315519.appspot.com",messagingSenderId:"36806470777"});var b=m.a.auth;m.a.database();function O(){return b().signOut()}function f(){var t=new b.GoogleAuthProvider;return b().signInWithPopup(t)}function x(){return b().signInWithPopup(this.FacebookProvider)}var v=s(2),g=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).onClick=function(t){O(),j.a.post("https://fan-theory.herokuapp.com/user/logout").then((function(t){return console.log(t.data)})),t.preventDefault(),window.location="/"},t}return Object(h.a)(s,[{key:"render",value:function(){return Object(v.jsx)("a",{href:"true",onClick:this.onClick,className:"first nav-ref",style:{backgroundColor:"#4CAF50"},children:"Sign Out"})}}]),s}(n.Component),y=s(27),C=s(95),N=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).onClick=function(t){x().then((function(t){j.a.post("https://fan-theory.herokuapp.com/user/login").then((function(t){return console.log(t.data)})),window.location="/"})).catch((function(t){console.log(t)})),t.preventDefault()},t}return Object(h.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsxs)("button",{onClick:this.onClick,className:"facebook",children:[Object(v.jsx)("img",{src:"./images/facebook.png",style:{width:"25px",marginRight:"8px"},alt:"facebook"})," Sign In with Facebook"]})})}}]),s}(n.Component),w=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(N,{})})},k=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).onClick=function(t){f().then((function(){j.a.post("https://fan-theory.herokuapp.com/user/login").then((function(t){return console.log(t.data)})),window.location="/"})).catch((function(t){console.log(t)}))},t}return Object(h.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsxs)("button",{onClick:this.onClick,className:"google",children:[Object(v.jsx)("img",{src:"./images/google.png",style:{width:"25px",marginRight:"8px"},alt:"google"})," Sign In with Google"]})})}}]),s}(n.Component),S=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(k,{})})},_=s(29),D={email:"",error:null},P=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onSubmit=function(t){(function(t){return b().sendPasswordResetEmail(t)})(n.state.email).then((function(){n.setState(Object(_.a)({},D))})).catch((function(t){n.setState({error:t})})),t.preventDefault()},n.onChange=function(t){n.setState(Object(y.a)({},t.target.name,t.target.value))},n.state=Object(_.a)({},D),n}return Object(h.a)(s,[{key:"render",value:function(){var t=this.state,e=t.email,s=t.error,n=""===e;return Object(v.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(v.jsx)("p",{className:"p-login",children:"E-mail:"}),Object(v.jsx)("input",{className:"input-login",name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),Object(v.jsx)("button",{className:"signin-button",disabled:n,type:"submit",children:"Reset My Password"}),s&&Object(v.jsx)("p",{children:s.message})]})}}]),s}(n.Component),T={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},A=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onSubmit=function(t){var e=n.state;(function(t,e,s){return b().createUserWithEmailAndPassword(e,s).then((function(e){return e.user.updateProfile({displayName:t})}))})(e.username,e.email,e.passwordOne).then((function(){j.a.post("https://fan-theory.herokuapp.com/user/login").then((function(t){return console.log(t.data)})),window.location="/"})),t.preventDefault()},n.onChange=function(t){n.setState(Object(y.a)({},t.target.name,t.target.value))},n.state=Object(_.a)({},T),n}return Object(h.a)(s,[{key:"render",value:function(){var t=this.state,e=t.username,s=t.email,n=t.passwordOne,a=t.passwordTwo,o=n!==a||""===n||""===s||""===e;return Object(v.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(v.jsx)("p",{className:"p-login",children:"Criar conta"}),Object(v.jsx)("hr",{className:"hr1"}),Object(v.jsx)("p",{className:"p-login",children:"Nome:"}),Object(v.jsx)("input",{className:"input-login",name:"username",value:e,onChange:this.onChange,type:"text",placeholder:"Full Name"}),Object(v.jsx)("p",{className:"p-login",children:"E-mail:"}),Object(v.jsx)("input",{className:"input-login",name:"email",value:s,onChange:this.onChange,type:"text",placeholder:"Email Address"}),Object(v.jsx)("p",{className:"p-login",children:"Senha:"}),Object(v.jsx)("input",{className:"input-login",name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),Object(v.jsx)("p",{className:"p-login",children:"Confirmar senha:"}),Object(v.jsx)("input",{className:"input-login",name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"signup",disabled:o,type:"submit",children:"Sign Up"})})]})}}]),s}(n.Component),M=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onSubmit=function(t){var e=n.state;(function(t,e){return b().signInWithEmailAndPassword(t,e)})(e.email,e.password).then((function(){j.a.post("https://fan-theory.herokuapp.com/user/login").then((function(t){return console.log(t.data)})),n.setState({email:"",password:"",showSignup:!1,showPassword:!1,show:!1}),n.props.history.push("/")})).catch((function(t){n.setState({error:t})})),t.preventDefault()},n.onChange=function(t){n.setState(Object(y.a)({},t.target.name,t.target.value))},n.handleClose=function(){n.setState({showSignup:!1,showPassword:!1,show:!1})},n.showSignup=function(){n.setState({showSignup:!0})},n.showPassword=function(){n.setState({showPassword:!0})},n.state={email:"",password:"",showSignup:!1,showPassword:!1},n}return Object(h.a)(s,[{key:"render",value:function(){var t=this.state,e=t.email,s=t.password,n=""===s||""===e;return Object(v.jsx)("div",{children:Object(v.jsxs)(C.a,{size:"lg",show:this.props.show,onHide:this.props.handleClose,children:[Object(v.jsx)(C.a.Header,{closeButton:!0,children:Object(v.jsx)("h2",{className:"login-title",children:"Theory"})}),Object(v.jsx)(C.a.Body,{children:Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-6",children:this.state.showSignup?Object(v.jsx)(A,{}):Object(v.jsxs)("div",{className:"google-facebook",children:[Object(v.jsx)(S,{}),Object(v.jsx)(w,{}),Object(v.jsx)("button",{onClick:this.showSignup,className:"signup-button",children:"Crie uma conta com o seu e-mail"})]})}),Object(v.jsx)("div",{className:"col-6 vertical-line",children:this.state.showPassword?Object(v.jsx)(P,{}):Object(v.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"p-login",children:"Fazer login"}),Object(v.jsx)("hr",{className:"hr1"}),Object(v.jsx)("p",{className:"p-login",children:"E-mail:"}),Object(v.jsx)("input",{className:"input-login",name:"email",value:e,onChange:this.onChange,type:"text",placeholder:"Email Address"}),Object(v.jsx)("p",{className:"p-login",children:"Senha:"}),Object(v.jsx)("input",{className:"input-login",name:"password",value:s,onChange:this.onChange,type:"password",placeholder:"Password"})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("button",{className:"senha-button",onClick:this.showPassword,children:"Esqueceu a senha?"}),Object(v.jsx)("button",{className:"signin-button",disabled:n,type:"submit",children:"Sign In"})]})]})})]})})})]})})}}]),s}(n.Component),L=function(){return Object(v.jsxs)("div",{className:"topnav",id:"myTopnav",children:[Object(v.jsx)("a",{className:"active",href:"/",children:"Theory"}),Object(v.jsx)("div",{className:"search-container",children:Object(v.jsx)("form",{className:"form",children:Object(v.jsx)("input",{type:"text",placeholder:"Search...",name:"search",className:"search",style:{paddingLeft:"40px"}})})}),Object(v.jsx)(g,{}),Object(v.jsx)("a",{href:"/account",className:"second nav-ref",style:{backgroundColor:"#333"},children:"Account"}),Object(v.jsx)("a",{href:"true",className:"icon",onClick:function(t){t.preventDefault();var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},children:Object(v.jsx)("i",{className:"fa fa-bars"})})]})},B=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).handleClose=function(){n.setState({show:!1})},n.showModal=function(){n.setState({show:!0})},n.state={show:!1},n}return Object(h.a)(s,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"topnav",id:"myTopnav",children:[Object(v.jsx)("a",{href:"/",className:"active",children:"Theory"}),Object(v.jsx)("div",{className:"search-container",children:Object(v.jsx)("form",{className:"form",children:Object(v.jsx)("input",{type:"text",placeholder:"Search...",name:"search",className:"search",style:{paddingLeft:"40px"}})})}),Object(v.jsx)("button",{onClick:this.showModal,className:"second nav-ref",style:{backgroundColor:"#333"},children:"Log In"}),Object(v.jsx)("a",{href:"true",className:"icon",onClick:function(t){t.preventDefault();var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},children:Object(v.jsx)("i",{className:"fa fa-bars"})}),Object(v.jsx)(M,{show:this.state.show,handleClose:this.handleClose})]})}}]),s}(n.Component);var E=function(){var t=Object(n.useState)(null),e=Object(r.a)(t,2),s=e[0],a=e[1];return j.a.get("https://fan-theory.herokuapp.com/user/status").then((function(t){a(t.data),console.log(t.data)})),"logout"===s?Object(v.jsx)(B,{}):Object(v.jsx)(L,{})},R=s(14),V=s(96),I=s(18),U=s(19),W=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).state={countVotes:n.props.post.votes},n}return Object(h.a)(s,[{key:"upClick",value:function(t){this.props.post.votes+=1,j.a.post("https://fan-theory.herokuapp.com/posts/update/"+this.props.post._id,this.props.post).then((function(t){return console.log(t.data)})),console.log(this.props.post._id),this.setState({countVotes:this.state.countVotes+1})}},{key:"downClick",value:function(t){this.props.post.votes-=1,j.a.post("https://fan-theory.herokuapp.com/posts/update/"+this.props.post._id,this.props.post).then((function(t){return console.log(t.data)})),this.setState({countVotes:this.state.countVotes-1})}},{key:"render",value:function(){var t=this;return console.log(this.props.post),Object(v.jsxs)("div",{className:"card card-style",children:[Object(v.jsxs)("div",{className:"row",style:{margin:"15px 10px",height:"10px"},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(e){return t.upClick(e)},className:"up-button",style:{margin:"1px"},children:Object(v.jsx)(I.a,{icon:U.b})}),this.state.countVotes,Object(v.jsx)("button",{onClick:function(e){return t.downClick(e)},className:"down-button",style:{margin:"1px"},children:Object(v.jsx)(I.a,{icon:U.a})})]}),Object(v.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",style:{marginTop:"1px",marginLeft:"10px"},children:[Object(v.jsx)(I.a,{icon:U.i})," ",this.props.post.username]}),Object(v.jsx)("p",{style:{marginLeft:"10px"},children:Object(V.a)(new Date(this.props.post.createdAt),"MM-dd-yy")}),Object(v.jsx)("p",{style:{marginLeft:"auto"},children:this.props.post.topic_id.charAt(0).toUpperCase()+this.props.post.topic_id.slice(1)})]}),Object(v.jsx)("a",{href:"/postpage/"+this.props.post._id,className:"card-link card-body",style:{paddingTop:"0px"},children:Object(v.jsxs)("div",{className:"body-card",children:[Object(v.jsx)("h5",{className:"card-title",children:this.props.post.title}),Object(v.jsx)("p",{className:"card-text",children:this.props.post.description})]})})]})}}]),s}(n.Component),q=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).deletePost=n.deletePost.bind(Object(R.a)(n)),n.sortByDate=n.sortByDate.bind(Object(R.a)(n)),n.sortByPopularity=n.sortByPopularity.bind(Object(R.a)(n)),n.state={posts:[]},n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;j.a.get("https://fan-theory.herokuapp.com/posts/").then((function(e){t.setState({loading:!1,posts:e.data})})).catch((function(t){console.log(t)}))}},{key:"deletePost",value:function(t){j.a.delete("https://fan-theory.herokuapp.com/posts/"+t).then((function(t){console.log(t.data)})),this.setState({posts:this.state.posts.filter((function(e){return e._id!==t}))})}},{key:"sortByDate",value:function(){return this.state.posts.sort((function(t,e){return Object(V.a)(new Date(t.createdAt),"MM, dd, yy, hh, mm, ss")>Object(V.a)(new Date(e.createdAt),"MM, dd, yy, hh, mm, ss")?-1:0})),this.postList()}},{key:"sortByPopularity",value:function(){return this.state.posts.sort((function(t,e){return t.votes>e.votes?-1:0})),this.postList()}},{key:"postList",value:function(){var t=this;return this.state.posts.map((function(e){return(e.topic_id===t.props.topic_id||"homepage"===t.props.topic_id)&&Object(v.jsx)(W,{post:e,deletePost:t.deletePost},e._id)}))}},{key:"render",value:function(){return"date"===this.props.sortBy?Object(v.jsx)("div",{children:this.sortByDate()}):"popularity"===this.props.sortBy?Object(v.jsx)("div",{children:this.sortByPopularity()}):void 0}}]),s}(n.Component),F=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onClickNew=n.onClickNew.bind(Object(R.a)(n)),n.onClickPopular=n.onClickPopular.bind(Object(R.a)(n)),n.state={sortBy:"date"},n}return Object(h.a)(s,[{key:"onClickPopular",value:function(){this.setState({sortBy:"popularity"})}},{key:"onClickNew",value:function(){this.setState({sortBy:"date"})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-3",style:{paddingLeft:"0px"},children:Object(v.jsxs)("ul",{className:"list-group",children:[Object(v.jsx)("h4",{className:"list-title list-group-item ",style:{backgroundColor:"#333"},children:"Categories"}),Object(v.jsxs)("a",{href:"/musics",className:"list-group-item list-group-item-action",children:["Musics ",Object(v.jsx)(I.a,{icon:U.e})]}),Object(v.jsxs)("a",{href:"/movies",className:"list-group-item list-group-item-action",children:["Movies ",Object(v.jsx)(I.a,{icon:U.c})]}),Object(v.jsxs)("a",{href:"/series",className:"list-group-item list-group-item-action",children:["Series ",Object(v.jsx)(I.a,{icon:U.h})," "]})]})}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsxs)("div",{className:"row post-bar",children:[Object(v.jsx)("div",{className:"col-4",style:{paddingTop:"5px"},children:Object(v.jsxs)("button",{onClick:this.onClickNew,className:"header1",children:["New ",Object(v.jsx)(I.a,{className:"headerIcon",icon:U.g})]})}),Object(v.jsx)("div",{className:"col-4",style:{paddingTop:"5px"},children:Object(v.jsx)("a",{href:"/submit",children:Object(v.jsx)("input",{type:"text",placeholder:"Create Post",name:"createPost",className:"search-post"})})}),Object(v.jsx)("div",{className:"col-4",children:Object(v.jsxs)("button",{onClick:this.onClickPopular,className:"header2",children:["Popular ",Object(v.jsx)(I.a,{className:"headerIcon",icon:U.d})]})})]}),Object(v.jsx)(q,{topic_id:this.props.topic_name,sortBy:this.state.sortBy})]}),Object(v.jsx)("div",{className:"col-3"})]})})}}]),s}(n.Component);var z=function(){return Object(v.jsx)(F,{topic_name:"homepage"})},H={passwordOne:"",passwordTwo:"",error:null},J=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onSubmit=function(t){var e,s=n.state.passwordOne;(e=s,b().currentUser.updatePassword(e)).then((function(){n.setState(Object(_.a)({},H))})).catch((function(t){n.setState({error:t})})),t.preventDefault()},n.onChange=function(t){n.setState(Object(y.a)({},t.target.name,t.target.value))},n.state=Object(_.a)({},H),n}return Object(h.a)(s,[{key:"render",value:function(){var t=this.state,e=t.passwordOne,s=t.passwordTwo,n=t.error,a=e!==s||""===e;return Object(v.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(v.jsx)("input",{name:"passwordOne",value:e,onChange:this.onChange,type:"password",placeholder:"New Password"}),Object(v.jsx)("input",{name:"passwordTwo",value:s,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),Object(v.jsx)("button",{disabled:a,type:"submit",children:"Reset My Password"}),n&&Object(v.jsx)("p",{children:n.message})]})}}]),s}(n.Component),G=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(l.a)(this,s),(t=e.call(this)).state={userEmail:"",userName:""},t}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;b().onAuthStateChanged((function(e){e&&t.setState({userEmail:e.email,userName:e.displayName})}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"container card account",children:Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("h1",{children:"Account "}),Object(v.jsxs)("h2",{children:["Email:  ",this.state.userEmail," "]}),Object(v.jsxs)("h2",{children:["User Name:  ",this.state.userName," "]}),Object(v.jsx)(J,{})]})})}}]),s}(n.Component),K=s(56),X=s.n(K);n.Component;var Q=function(){return Object(v.jsx)(F,{topic_name:"musics"})};var Y=function(){return Object(v.jsx)(F,{topic_name:"movies"})};var Z=function(){return Object(v.jsx)(F,{topic_name:"series"})},$=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onChangeTitle=n.onChangeTitle.bind(Object(R.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(R.a)(n)),n.onChangeTopic=n.onChangeTopic.bind(Object(R.a)(n)),n.onSubmit=n.onSubmit.bind(Object(R.a)(n)),n.state={username:"",user_account_id:"",title:"",description:"",topic_id:"",thread_id:"",votes:0},n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;b().onAuthStateChanged((function(e){console.log(e),e&&t.setState({username:e.displayName})}))}},{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"onChangeDescription",value:function(t){this.setState({description:t.target.value})}},{key:"onChangeTopic",value:function(t){console.log(t.target.value),this.setState({topic_id:t.target.value})}},{key:"onSubmit",value:function(t){if(""===this.state.topic_id)t.preventDefault(),alert("Add a topic");else{t.preventDefault();var e={username:this.state.username,user_account_id:2,title:this.state.title.charAt(0).toUpperCase()+this.state.title.slice(1),description:this.state.description.charAt(0).toUpperCase()+this.state.description.slice(1),topic_id:this.state.topic_id,thread_id:"1",votes:0};console.log(e),j.a.post("https://fan-theory.herokuapp.com/posts/add",e).then((function(t){return console.log(t.data)})),window.location="/"}}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-4",style:{left:"31.95%"},children:[Object(v.jsx)("h3",{children:"Create a New Post"}),Object(v.jsxs)("form",{onSubmit:this.onSubmit,id:"postform",children:[Object(v.jsx)("div",{class:"form-row align-items-center",children:Object(v.jsxs)("div",{class:"col-auto my-1",children:[Object(v.jsx)("label",{class:"mr-sm-2",for:"inlineFormCustomSelect",children:"Topic"}),Object(v.jsxs)("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",onChange:this.onChangeTopic,required:!0,children:[Object(v.jsx)("option",{selected:!0,children:"Choose Topic..."}),Object(v.jsx)("option",{value:"musics",children:"Musics"}),Object(v.jsx)("option",{value:"movies",children:"Movies"}),Object(v.jsx)("option",{value:"series",children:"Series"})]})]})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Title: "}),Object(v.jsx)("input",{placeholder:"Title",type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Description: "}),Object(v.jsx)("textarea",{placeholder:"Write something..",type:"text",style:{height:"150px"},required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})]}),Object(v.jsx)("button",{type:"submit",form:"postform",value:"submit",className:"btn btn-primary",children:"Post"})]})]})})})}}]),s}(n.Component),tt=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onChangeTitle=n.onChangeTitle.bind(Object(R.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(R.a)(n)),n.onSubmit=n.onSubmit.bind(Object(R.a)(n)),n.state={username:"",user_account_id:"",title:"",description:"",topic_id:"",thread_id:""},n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;b().onAuthStateChanged((function(e){e&&t.setState({username:e.displayName})})),j.a.get("https://fan-theory.herokuapp.com/posts/"+this.props.match.params.id).then((function(e){t.setState({username:e.data.username,title:e.data.title,description:e.data.description})})).catch((function(t){console.log(t)}))}},{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"onChangeDescription",value:function(t){this.setState({description:t.target.value})}},{key:"onSubmit",value:function(t){t.preventDefault();var e={username:this.state.username,user_account_id:2,title:this.state.title,description:this.state.description,topic_id:"3",thread_id:"1"};console.log(e),j.a.post("https://fan-theory.herokuapp.com/posts/update/"+this.props.match.params.id,e).then((function(t){return console.log(t.data)})),window.location="/"}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-4",style:{left:"31.95%"},children:[Object(v.jsx)("h3",{children:"Create Edit Post"}),Object(v.jsxs)("form",{onSubmit:this.onSubmit,id:"postform",children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Title: "}),Object(v.jsx)("input",{placeholder:"Title",type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Description: "}),Object(v.jsx)("textarea",{placeholder:"Write something..",type:"text",style:{height:"150px"},required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})]}),Object(v.jsx)("button",{type:"submit",form:"postform",value:"submit",className:"btn btn-primary",children:"Edit Post"})]})]})})})}}]),s}(n.Component),et=s(33),st=s.n(et),nt=s(37),at=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(l.a)(this,s),(t=e.call(this)).replyClick=t.replyClick.bind(Object(R.a)(t)),t.onChangeReply=t.onChangeReply.bind(Object(R.a)(t)),t.onSubmit=t.onSubmit.bind(Object(R.a)(t)),t.state={username:"",reply:"",comment_id:"",votes:0,showReply:!1},t}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;b().onAuthStateChanged((function(e){e&&t.setState({username:e.displayName,comment_id:t.props.comment_id})}))}},{key:"replyClick",value:function(t){this.setState({showReply:!this.state.showReply})}},{key:"onChangeReply",value:function(t){this.setState({reply:t.target.value})}},{key:"onSubmit",value:function(t){var e={username:this.state.username,reply:this.state.reply.charAt(0).toUpperCase()+this.state.reply.slice(1),comment_id:this.props.comment_id,votes:0};j.a.post("https://fan-theory.herokuapp.com/replys/add",e).then((function(t){return console.log(t.data)})),this.setState({reply:""}),t.preventDefault()}},{key:"render",value:function(){return this.state.showReply?Object(v.jsxs)("div",{className:"col-9 reply-container",children:[Object(v.jsx)("div",{children:Object(v.jsxs)("button",{className:"reply-button",onClick:this.replyClick,children:[Object(v.jsx)(I.a,{icon:U.f})," Reply"]})}),Object(v.jsxs)("form",{onSubmit:this.onSubmit,id:"replyform",children:[Object(v.jsx)("div",{className:"form-group reply-form",style:{marginBottom:"0px"},children:Object(v.jsx)("textarea",{placeholder:"Write something..",type:"text",required:!0,className:"reply-form",value:this.state.reply,onChange:this.onChangeReply})}),Object(v.jsx)("button",{type:"submit",form:"replyform",value:"submit",className:"reply",disabled:!this.state.reply,children:"Reply"})]})]}):Object(v.jsx)("div",{className:"col-9",children:Object(v.jsxs)("button",{className:"reply-button",onClick:this.replyClick,children:[Object(v.jsx)(I.a,{icon:U.f})," Reply"]})})}}]),s}(n.Component),ot=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).state={countVotes:n.props.reply.votes},n}return Object(h.a)(s,[{key:"upClick",value:function(t){t.preventDefault(),this.props.reply.votes+=1,j.a.post("https://fan-theory.herokuapp.com/replys/update/"+this.props.reply._id,this.props.reply).then((function(t){return console.log(t.data)})),console.log(this.props.reply._id),this.setState({countVotes:this.state.countVotes+1})}},{key:"downClick",value:function(t){t.preventDefault(),this.props.reply.votes-=1,j.a.post("https://fan-theory.herokuapp.com/replys/update/"+this.props.reply._id,this.props.reply).then((function(t){return console.log(t.data)})),this.setState({countVotes:this.state.countVotes-1})}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(v.jsxs)("div",{className:"row",style:{height:"30px"},children:[Object(v.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",style:{marginTop:"1px"},children:[Object(v.jsx)(I.a,{icon:U.i})," ",this.props.reply.username]}),Object(v.jsx)("p",{style:{marginLeft:"10px"},children:Object(V.a)(new Date(this.props.reply.createdAt),"MM-dd-yy")})]}),Object(v.jsx)("h5",{className:"card-text",style:{marginLeft:"5px"},children:this.props.reply.reply}),Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"row reply-div",children:Object(v.jsxs)("div",{className:"col-3",style:{paddingLeft:"3px"},children:[Object(v.jsx)("button",{onClick:function(e){return t.upClick(e)},className:"up-button",children:Object(v.jsx)(I.a,{icon:U.b})}),this.state.countVotes,Object(v.jsx)("button",{onClick:function(e){return t.downClick(e)},className:"down-button",children:Object(v.jsx)(I.a,{icon:U.a})})]})})})]})}}]),s}(n.Component);var ct=function(t){var e=Object(n.useState)([]),s=Object(r.a)(e,2),a=s[0],o=s[1];function c(t){j.a.delete("https://fan-theory.herokuapp.com/replys/"+t).then((function(t){console.log(t.data)})),this.setState({replys:this.state.replys.filter((function(e){return e._id!==t}))})}return Object(n.useEffect)((function(){function t(){return(t=Object(nt.a)(st.a.mark((function t(){var e;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://fan-theory.herokuapp.com/replys/");case 2:e=t.sent,o(e.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[a]),Object(v.jsx)("ul",{children:(a.sort((function(t,e){return t.votes>e.votes?-1:0})),a.map((function(e){return e.comment_id===t.comment_id&&Object(v.jsx)(ot,{reply:e,deleteComment:c},e._id)})))})},it=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).state={countVotes:n.props.comment.votes},n}return Object(h.a)(s,[{key:"upClick",value:function(t){t.preventDefault(),this.props.comment.votes+=1,j.a.post("https://fan-theory.herokuapp.com/comments/update/"+this.props.comment._id,this.props.comment).then((function(t){return console.log(t.data)})),this.setState({countVotes:this.state.countVotes+1})}},{key:"downClick",value:function(t){t.preventDefault(),this.props.comment.votes-=1,j.a.post("https://fan-theory.herokuapp.com/comments/update/"+this.props.comment._id,this.props.comment).then((function(t){return console.log(t.data)})),this.setState({countVotes:this.state.countVotes-1})}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{className:"comments",children:[Object(v.jsxs)("div",{className:"row",style:{height:"30px"},children:[Object(v.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",style:{marginTop:"1px",marginLeft:"10px"},children:[Object(v.jsx)(I.a,{icon:U.i})," ",this.props.comment.username]}),Object(v.jsx)("p",{style:{marginLeft:"10px"},children:Object(V.a)(new Date(this.props.comment.createdAt),"MM-dd-yy")})]}),Object(v.jsx)("h5",{className:"card-text",style:{marginLeft:"15px"},children:this.props.comment.comment}),Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsxs)("div",{className:"row comment-div",children:[Object(v.jsxs)("div",{style:{marginLeft:"13px"},children:[Object(v.jsx)("button",{onClick:function(e){return t.upClick(e)},className:"up-button",children:Object(v.jsx)(I.a,{icon:U.b})}),this.state.countVotes,Object(v.jsx)("button",{onClick:function(e){return t.downClick(e)},className:"down-button",children:Object(v.jsx)(I.a,{icon:U.a})})]}),Object(v.jsx)(at,{comment_id:this.props.comment._id})]}),Object(v.jsx)(ct,{comment_id:this.props.comment._id})]})]})}}]),s}(n.Component);var rt=function(t){var e=Object(n.useState)([]),s=Object(r.a)(e,2),a=s[0],o=s[1];function c(t){j.a.delete("https://fan-theory.herokuapp.com/comments/"+t).then((function(t){console.log(t.data)})),this.setState({comments:this.state.comments.filter((function(e){return e._id!==t}))})}return Object(n.useEffect)((function(){function t(){return(t=Object(nt.a)(st.a.mark((function t(){var e;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://fan-theory.herokuapp.com/comments/");case 2:e=t.sent,o(e.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[a]),Object(v.jsx)("ul",{children:(a.sort((function(t,e){return t.votes>e.votes?-1:0})),a.map((function(e){return e.post_id===t.post_id&&Object(v.jsx)(it,{comment:e,deleteComment:c},e._id)})))})},lt=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).handleClose=function(){n.setState({show:!1})},n.showModal=function(){n.setState({show:!0})},n.onChangeComment=n.onChangeComment.bind(Object(R.a)(n)),n.onSubmit=n.onSubmit.bind(Object(R.a)(n)),n.state={username:"",comment:"",post_title:n.props.post_title,post_id:n.props.post_id,votes:0,LogedUser:"",show:!1},n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;b().onAuthStateChanged((function(e){e&&t.setState({username:e.displayName,post_title:t.props.post_title,post_id:t.props.post_id})}))}},{key:"onChangeComment",value:function(t){this.setState({comment:t.target.value})}},{key:"onSubmit",value:function(t){var e={username:this.state.username,comment:this.state.comment.charAt(0).toUpperCase()+this.state.comment.slice(1),post_title:this.state.post_title,post_id:this.state.post_id,votes:0,show:!1};console.log(e),j.a.post("https://fan-theory.herokuapp.com/comments/add",e).then((function(t){return console.log(t.data)})),this.setState({comment:""}),t.preventDefault()}},{key:"render",value:function(){var t=this;return j.a.get("https://fan-theory.herokuapp.com/user/status").then((function(e){t.setState({LogedUser:e.data})})),Object(v.jsxs)("div",{children:["login"===this.state.LogedUser?Object(v.jsxs)("form",{onSubmit:this.onSubmit,id:"postform",children:[Object(v.jsxs)("div",{className:"form-group comments-form",children:[Object(v.jsxs)("label",{children:["Comment as ",this.state.username,": "]}),Object(v.jsx)("textarea",{placeholder:"Write something..",type:"text",style:{height:"150px"},required:!0,className:"form-control",value:this.state.comment,onChange:this.onChangeComment})]}),Object(v.jsx)("button",{type:"submit",form:"postform",value:"submit",className:"comment-button",disabled:!this.state.comment,children:"Comment"})]}):Object(v.jsxs)("div",{className:"container col-12",style:{marginLeft:"650px"},children:[Object(v.jsx)("p",{className:"",children:"Login to leave a comment"}),Object(v.jsx)("button",{onClick:this.showModal,className:"login-button",children:"Login"}),Object(v.jsx)(M,{show:this.state.show,handleClose:this.handleClose})]}),Object(v.jsx)("hr",{}),Object(v.jsx)(rt,{post_id:this.state.post_id})]})}}]),s}(n.Component),ht=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).handleClose=function(){window.location="/"+n.state.post.topic_id,n.setState({show:!1})},n.state={post:[],show:!0},n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;b().onAuthStateChanged((function(e){e&&t.setState({username:e.displayName})})),j.a.get("https://fan-theory.herokuapp.com/posts/"+this.props.match.params.id).then((function(e){t.setState({post:e.data})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsxs)(C.a,{dialogClassName:"modal-size",show:this.state.show,onHide:this.handleClose,children:[Object(v.jsx)(C.a.Header,{style:{borderBottomWidth:"0px",backgroundColor:"#333"},closeButton:!0,children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h2",{className:"postpage-title",style:{color:"aliceblue"},children:this.state.post.title})})}),Object(v.jsx)(C.a.Body,{style:{backgroundColor:"#f5f3f4"},children:Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-11",children:Object(v.jsxs)("div",{className:"card modal-card",children:[Object(v.jsxs)("div",{className:"body-card",children:[Object(v.jsx)("h3",{children:this.state.post.title}),Object(v.jsx)("p",{className:"card-text",children:this.state.post.description}),Object(v.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:[this.state.post.username,"  "]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)(lt,{post_title:this.state.post.title,post_id:this.props.match.params.id})]})})})})}),Object(v.jsx)(C.a.Footer,{style:{borderTopWidth:"0px",backgroundColor:"#333"}})]})})}}]),s}(n.Component),ut=function(){return Object(v.jsxs)(c.a,{children:[Object(v.jsx)(E,{}),Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{path:"/signup",component:A}),Object(v.jsx)(i.a,{path:"/signin",component:M}),Object(v.jsx)(i.a,{path:"/musics",component:Q}),Object(v.jsx)(i.a,{path:"/movies",component:Y}),Object(v.jsx)(i.a,{path:"/series",component:Z}),Object(v.jsx)(i.a,{path:"/submit",component:$}),Object(v.jsx)(i.a,{path:"/edit/:id",component:tt}),Object(v.jsx)(i.a,{path:"/postpage/:id",component:ht}),Object(v.jsx)(i.a,{path:"/pw-forget",component:P}),Object(v.jsx)(i.a,{path:"/account",component:G}),Object(v.jsx)(i.a,{path:"/admin",component:X.a}),Object(v.jsx)(i.a,{path:"*",component:z})]})]})};s(92);o.a.render(Object(v.jsx)(ut,{}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.119e8360.chunk.js.map